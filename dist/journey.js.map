{"version":3,"file":"journey.js","sources":["../package/querystring/index.js","../package/URL/index.js","../package/env/index.js","../src/index.js"],"sourcesContent":["\nfunction parse(qs, sep, eq){\n  const obj = Object.create(null);\n  if (typeof qs !== 'string' || qs.length === 0 ){\n    return obj;\n  }\n  sep = sep || '&';\n  eq = eq || '=';\n  const params = qs.split(sep);\n  let i = 0;\n  let l = params.length;\n  for(;i<l;i++){\n    let items = params[i].split(eq);\n    let queryKey = items[0].trim();\n    let queryVal = items[1].trim();\n    let cur = obj[queryKey];\n    if (cur){\n      if (Array.isArray(cur)){\n        cur.push(queryVal);\n      } else {\n        let temp = cur;\n        obj[queryKey] = new Array();\n        obj[queryKey].push(temp);\n        obj[queryKey].push(queryVal);\n      }\n    } else {\n      obj[queryKey] = queryVal;\n    }\n  }\n  return obj;\n}\n\nfunction stringify(obj, sep, eq){\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj !== null && typeof obj === 'object'){\n    const keys = Object.keys(obj);\n    const len = keys.length;\n    const flast = len - 1;\n    let fields = '';\n    let i = 0;\n    for (;i<len; i++){\n      let k = keys[i];\n      let v = obj[k];\n      let ks = k + eq;\n      if (Array.isArray(v)){\n        let vlen = v.length;\n        let vlast = vlen - 1;\n        let j = 0;\n        for (; j < vlen; ++j) {\n           fields += ks + v[j];\n           if (j < vlast){\n             fields += sep;\n           }\n        }\n        if (vlen && i < flast){\n          fields += sep;\n        }\n      } else {\n        fields += ks + v;\n        if (i < flast){\n          fields += sep;\n        }\n      }\n    }\n    return fields;\n  }\n  return '';\n}\n\nexport default {\n  stringify,\n  parse\n};\n","import querystring from 'querystring';\n\nfunction format(url, query){\n  let search = querystring.stringify(query);\n  return url + '?' + search;\n}\n\nfunction parse(url,parseQueryString){\n  const searchIndex = url.indexOf('?');\n  const searchString = url.slice(searchIndex + 1);\n  const query = querystring.parse(searchString);\n  if (typeof parseQueryString === 'string' && parseQueryString.length > 0){\n    return query[parseQueryString];\n  } else {\n    return query;\n  }\n}\n\nexport default {\n  format,\n  parse\n}\n","function whatEnv(){\n  let weexEnv = {};\n  if (typeof weex !== 'undefined'){\n    weexEnv.platform = weex.config.env.platform;\n    weexEnv.bundleFrameworkType = 'Vue';\n    weexEnv.appName = weex.config.env.appName;\n  } else {\n    // Rax Weex\n    if (typeof callNative === 'function'){\n      weexEnv.platform = navigator.platform;\n      weexEnv.appName = navigator.appName;\n    } else {\n      // Rax Web\n      weexEnv.platform = 'Web';\n    }\n    weexEnv.bundleFrameworkType = 'Rax';\n  }\n  return weexEnv;\n}\n\nconst env = whatEnv();\nconst isiOS = env.platform === 'iOS';\nconst isAndroid = env.platform === 'Android';\nconst isDingtalk = env.appName === 'DingTalk';\nconst isWeexWeb = env.platform === 'Web';\nconst isWeexNative = isiOS || isAndroid;\nconst bundleFrameworkType = env.bundleFrameworkType;\n\nexport default {\n  isiOS,\n  isAndroid,\n  isDingtalk,\n  isWeexWeb,\n  isWeexNative,\n  bundleFrameworkType\n};\n","import querystring from 'querystring';\nimport URL from 'url';\nimport env from 'env';\n\nexport default {\n  querystring,\n  URL,\n  env\n};\n"],"names":["parse","qs","sep","eq","obj","Object","create","length","params","split","i","l","items","queryKey","trim","queryVal","cur","Array","isArray","push","temp","stringify","keys","len","flast","fields","k","v","ks","vlen","vlast","j","format","url","query","search","querystring","parseQueryString","searchIndex","indexOf","searchString","slice","whatEnv","weexEnv","weex","platform","config","env","bundleFrameworkType","appName","callNative","navigator","isiOS","isAndroid","isDingtalk","isWeexWeb","isWeexNative"],"mappings":";;;;AACA,SAASA,KAAT,CAAeC,EAAf,EAAmBC,GAAnB,EAAwBC,EAAxB,EAA2B;MACnBC,MAAMC,OAAOC,MAAP,CAAc,IAAd,CAAZ;MACI,OAAOL,EAAP,KAAc,QAAd,IAA0BA,GAAGM,MAAH,KAAc,CAA5C,EAA+C;WACtCH,GAAP;;QAEIF,OAAO,GAAb;OACKC,MAAM,GAAX;MACMK,SAASP,GAAGQ,KAAH,CAASP,GAAT,CAAf;MACIQ,IAAI,CAAR;MACIC,IAAIH,OAAOD,MAAf;SACKG,IAAEC,CAAP,EAASD,GAAT,EAAa;QACPE,QAAQJ,OAAOE,CAAP,EAAUD,KAAV,CAAgBN,EAAhB,CAAZ;QACIU,WAAWD,MAAM,CAAN,EAASE,IAAT,EAAf;QACIC,WAAWH,MAAM,CAAN,EAASE,IAAT,EAAf;QACIE,MAAMZ,IAAIS,QAAJ,CAAV;QACIG,GAAJ,EAAQ;UACFC,MAAMC,OAAN,CAAcF,GAAd,CAAJ,EAAuB;YACjBG,IAAJ,CAASJ,QAAT;OADF,MAEO;YACDK,OAAOJ,GAAX;YACIH,QAAJ,IAAgB,IAAII,KAAJ,EAAhB;YACIJ,QAAJ,EAAcM,IAAd,CAAmBC,IAAnB;YACIP,QAAJ,EAAcM,IAAd,CAAmBJ,QAAnB;;KAPJ,MASO;UACDF,QAAJ,IAAgBE,QAAhB;;;SAGGX,GAAP;;;AAGF,SAASiB,SAAT,CAAmBjB,GAAnB,EAAwBF,GAAxB,EAA6BC,EAA7B,EAAgC;QACxBD,OAAO,GAAb;OACKC,MAAM,GAAX;MACIC,QAAQ,IAAR,IAAgB,QAAOA,GAAP,yCAAOA,GAAP,OAAe,QAAnC,EAA4C;QACpCkB,OAAOjB,OAAOiB,IAAP,CAAYlB,GAAZ,CAAb;QACMmB,MAAMD,KAAKf,MAAjB;QACMiB,QAAQD,MAAM,CAApB;QACIE,SAAS,EAAb;QACIf,IAAI,CAAR;WACMA,IAAEa,GAAR,EAAab,GAAb,EAAiB;UACXgB,IAAIJ,KAAKZ,CAAL,CAAR;UACIiB,IAAIvB,IAAIsB,CAAJ,CAAR;UACIE,KAAKF,IAAIvB,EAAb;UACIc,MAAMC,OAAN,CAAcS,CAAd,CAAJ,EAAqB;YACfE,OAAOF,EAAEpB,MAAb;YACIuB,QAAQD,OAAO,CAAnB;YACIE,IAAI,CAAR;eACOA,IAAIF,IAAX,EAAiB,EAAEE,CAAnB,EAAsB;oBACTH,KAAKD,EAAEI,CAAF,CAAf;cACIA,IAAID,KAAR,EAAc;sBACF5B,GAAV;;;YAGD2B,QAAQnB,IAAIc,KAAhB,EAAsB;oBACVtB,GAAV;;OAXJ,MAaO;kBACK0B,KAAKD,CAAf;YACIjB,IAAIc,KAAR,EAAc;oBACFtB,GAAV;;;;WAICuB,MAAP;;SAEK,EAAP;;;AAGF,kBAAe;sBAAA;;CAAf;;ACpEA,SAASO,MAAT,CAAgBC,GAAhB,EAAqBC,KAArB,EAA2B;MACrBC,SAASC,YAAYf,SAAZ,CAAsBa,KAAtB,CAAb;SACOD,MAAM,GAAN,GAAYE,MAAnB;;;AAGF,SAASnC,OAAT,CAAeiC,GAAf,EAAmBI,gBAAnB,EAAoC;MAC5BC,cAAcL,IAAIM,OAAJ,CAAY,GAAZ,CAApB;MACMC,eAAeP,IAAIQ,KAAJ,CAAUH,cAAc,CAAxB,CAArB;MACMJ,QAAQE,YAAYpC,KAAZ,CAAkBwC,YAAlB,CAAd;MACI,OAAOH,gBAAP,KAA4B,QAA5B,IAAwCA,iBAAiB9B,MAAjB,GAA0B,CAAtE,EAAwE;WAC/D2B,MAAMG,gBAAN,CAAP;GADF,MAEO;WACEH,KAAP;;;;AAIJ,UAAe;gBAAA;;CAAf;;AClBA,SAASQ,OAAT,GAAkB;MACZC,UAAU,EAAd;MACI,OAAOC,IAAP,KAAgB,WAApB,EAAgC;YACtBC,QAAR,GAAmBD,KAAKE,MAAL,CAAYC,GAAZ,CAAgBF,QAAnC;YACQG,mBAAR,GAA8B,KAA9B;YACQC,OAAR,GAAkBL,KAAKE,MAAL,CAAYC,GAAZ,CAAgBE,OAAlC;GAHF,MAIO;;QAED,OAAOC,UAAP,KAAsB,UAA1B,EAAqC;cAC3BL,QAAR,GAAmBM,UAAUN,QAA7B;cACQI,OAAR,GAAkBE,UAAUF,OAA5B;KAFF,MAGO;;cAEGJ,QAAR,GAAmB,KAAnB;;YAEMG,mBAAR,GAA8B,KAA9B;;SAEKL,OAAP;;;AAGF,IAAMI,MAAML,SAAZ;AACA,IAAMU,QAAQL,IAAIF,QAAJ,KAAiB,KAA/B;AACA,IAAMQ,YAAYN,IAAIF,QAAJ,KAAiB,SAAnC;AACA,IAAMS,aAAaP,IAAIE,OAAJ,KAAgB,UAAnC;AACA,IAAMM,YAAYR,IAAIF,QAAJ,KAAiB,KAAnC;AACA,IAAMW,eAAeJ,SAASC,SAA9B;AACA,IAAML,sBAAsBD,IAAIC,mBAAhC;;AAEA,YAAe;cAAA;sBAAA;wBAAA;sBAAA;4BAAA;;CAAf;;ACxBA,YAAe;0BAAA;UAAA;;CAAf;;"}